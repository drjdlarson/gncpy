<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>gncpy.game_engine.base_game &mdash; GNCPy 2.0.3.dev0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />

  
    <link rel="canonical" href="https://drjdlarson.github.io/gncpy/_modules/gncpy/game_engine/base_game.html" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=5f65de6d"></script>
        <script src="../../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=cbcfbdad"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #9E1B32" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            GNCPy
              <img src="../../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.0.3.dev0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../_autosummary/gncpy.html">gncpy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../_autosummary/gncpy/gncpy.control.html">control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/control/gncpy.control.elqr.html">elqr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/control/gncpy.control.lqr.html">lqr</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../_autosummary/gncpy/gncpy.coordinate_transforms.html">coordinate_transforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/coordinate_transforms/gncpy.coordinate_transforms.ecef_to_LLA.html">gncpy.coordinate_transforms.ecef_to_LLA</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/coordinate_transforms/gncpy.coordinate_transforms.ecef_to_NED.html">gncpy.coordinate_transforms.ecef_to_NED</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/coordinate_transforms/gncpy.coordinate_transforms.lla_to_ECEF.html">gncpy.coordinate_transforms.lla_to_ECEF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/coordinate_transforms/gncpy.coordinate_transforms.lla_to_NED.html">gncpy.coordinate_transforms.lla_to_NED</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/coordinate_transforms/gncpy.coordinate_transforms.ned_to_LLA.html">gncpy.coordinate_transforms.ned_to_LLA</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../_autosummary/gncpy/gncpy.data_fusion.html">data_fusion</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/data_fusion/gncpy.data_fusion.GeneralizedCovarianceIntersection.html">gncpy.data_fusion.GeneralizedCovarianceIntersection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../_autosummary/gncpy/gncpy.distributions.html">distributions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/distributions/gncpy.distributions.Particle.html">Particle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/distributions/gncpy.distributions.ParticleDistribution.html">ParticleDistribution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/distributions/gncpy.distributions.QuadraturePoints.html">QuadraturePoints</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/distributions/gncpy.distributions.SigmaPoints.html">SigmaPoints</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/distributions/gncpy.distributions.SimpleParticleDistribution.html">SimpleParticleDistribution</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../_autosummary/gncpy/gncpy.dynamics.html">dynamics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/dynamics/gncpy.dynamics.aircraft.html">aircraft</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/dynamics/gncpy.dynamics.basic.html">basic</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../_autosummary/gncpy/gncpy.errors.html">errors</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/errors/gncpy.errors.ExtremeMeasurementNoiseError.html">gncpy.errors.ExtremeMeasurementNoiseError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/errors/gncpy.errors.ParticleDepletionError.html">gncpy.errors.ParticleDepletionError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/errors/gncpy.errors.ParticleEstimationDomainError.html">gncpy.errors.ParticleEstimationDomainError</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../_autosummary/gncpy/gncpy.filters.html">filters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.bayes_filter.html">bayes_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.bootstrap_filter.html">bootstrap_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.ekf_gaussian_scale_mixture_filter.html">ekf_gaussian_scale_mixture_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.extended_kalman_filter.html">extended_kalman_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.gci_filter.html">gci_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.gsm_filter_base.html">gsm_filter_base</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.imm_gci_filter.html">imm_gci_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.interacting_multiple_model.html">interacting_multiple_model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.kalman_filter.html">kalman_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.kf_gaussian_scale_mixture_filter.html">kf_gaussian_scale_mixture_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.max_corr_ent_ukf.html">max_corr_ent_ukf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.max_corr_ent_upf.html">max_corr_ent_upf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.mcmc_particle_filter_base.html">mcmc_particle_filter_base</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.particle_filter.html">particle_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.qkf_gaussian_scale_mixture_filter.html">qkf_gaussian_scale_mixture_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.quadrature_kalman_filter.html">quadrature_kalman_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.sqkf_gaussian_scale_mixture_filter.html">sqkf_gaussian_scale_mixture_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.square_root_qkf.html">square_root_qkf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.students_t_filter.html">students_t_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.ukf_gaussian_scale_mixture_filter.html">ukf_gaussian_scale_mixture_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.unscented_kalman_filter.html">unscented_kalman_filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/filters/gncpy.filters.unscented_particle_filter.html">unscented_particle_filter</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../_autosummary/gncpy/gncpy.game_engine.html">game_engine</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/game_engine/gncpy.game_engine.base_game.html">base_game</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/game_engine/gncpy.game_engine.components.html">components</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/game_engine/gncpy.game_engine.entities.html">entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/game_engine/gncpy.game_engine.physics2d.html">physics2d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/game_engine/gncpy.game_engine.rendering2d.html">rendering2d</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../_autosummary/gncpy/gncpy.games.html">games</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/games/gncpy.games.SimpleUAV2d.html">SimpleUAV2d</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../_autosummary/gncpy/gncpy.math.html">math</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/math/gncpy.math.epanechnikov_kernel.html">gncpy.math.epanechnikov_kernel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/math/gncpy.math.gamma_fnc.html">gncpy.math.gamma_fnc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/math/gncpy.math.gaussian_kernel.html">gncpy.math.gaussian_kernel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/math/gncpy.math.get_elem_sym_fnc.html">gncpy.math.get_elem_sym_fnc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/math/gncpy.math.get_hessian.html">gncpy.math.get_hessian</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/math/gncpy.math.get_input_jacobian.html">gncpy.math.get_input_jacobian</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/math/gncpy.math.get_jacobian.html">gncpy.math.get_jacobian</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/math/gncpy.math.get_state_jacobian.html">gncpy.math.get_state_jacobian</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/math/gncpy.math.log_sum_exp.html">gncpy.math.log_sum_exp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/math/gncpy.math.rk4.html">gncpy.math.rk4</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/math/gncpy.math.rk4_backward.html">gncpy.math.rk4_backward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/math/gncpy.math.weighted_sum_mat.html">gncpy.math.weighted_sum_mat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/math/gncpy.math.weighted_sum_vec.html">gncpy.math.weighted_sum_vec</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../_autosummary/gncpy/gncpy.measurements.html">measurements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../_autosummary/gncpy/gncpy.orbital_mechanics.html">orbital_mechanics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/orbital_mechanics/gncpy.orbital_mechanics.correct_lon_ascend.html">gncpy.orbital_mechanics.correct_lon_ascend</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/orbital_mechanics/gncpy.orbital_mechanics.ecc_anom_from_mean.html">gncpy.orbital_mechanics.ecc_anom_from_mean</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/orbital_mechanics/gncpy.orbital_mechanics.ecef_from_orbit.html">gncpy.orbital_mechanics.ecef_from_orbit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/orbital_mechanics/gncpy.orbital_mechanics.true_anom_from_ecc.html">gncpy.orbital_mechanics.true_anom_from_ecc</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../_autosummary/gncpy/gncpy.planning.html">planning</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/planning/gncpy.planning.a_star.html">a_star</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/planning/gncpy.planning.reinforcement_learning.html">reinforcement_learning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/planning/gncpy.planning.rrt_star.html">rrt_star</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../_autosummary/gncpy/gncpy.plotting.html">plotting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/plotting/gncpy.plotting.calc_error_ellipse.html">gncpy.plotting.calc_error_ellipse</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/plotting/gncpy.plotting.get_cmap.html">gncpy.plotting.get_cmap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/plotting/gncpy.plotting.init_plotting_opts.html">gncpy.plotting.init_plotting_opts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/plotting/gncpy.plotting.set_title_label.html">gncpy.plotting.set_title_label</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../_autosummary/gncpy/gncpy.sampling.html">sampling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/sampling/gncpy.sampling.MetropolisHastings.html">MetropolisHastings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../_autosummary/gncpy/gncpy.utilities.html">utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/utilities/gncpy.utilities.classproperty.html">gncpy.utilities.classproperty</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/utilities/gncpy.utilities.ClassPropertyDescriptor.html">ClassPropertyDescriptor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/utilities/gncpy.utilities.ClassPropertyMetaClass.html">ClassPropertyMetaClass</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../_autosummary/gncpy/gncpy.wgs84.html">wgs84</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/wgs84/gncpy.wgs84.calc_earth_rate.html">gncpy.wgs84.calc_earth_rate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/wgs84/gncpy.wgs84.calc_ew_rad.html">gncpy.wgs84.calc_ew_rad</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/wgs84/gncpy.wgs84.calc_gravity.html">gncpy.wgs84.calc_gravity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/wgs84/gncpy.wgs84.calc_ns_rad.html">gncpy.wgs84.calc_ns_rad</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/wgs84/gncpy.wgs84.calc_transport_rate.html">gncpy.wgs84.calc_transport_rate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/wgs84/gncpy.wgs84.convert_msl_to_wgs.html">gncpy.wgs84.convert_msl_to_wgs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/wgs84/gncpy.wgs84.convert_wgs_to_msl.html">gncpy.wgs84.convert_wgs_to_msl</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../_autosummary/gncpy/wgs84/gncpy.wgs84.init_egm_lookup_table.html">gncpy.wgs84.init_egm_lookup_table</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage.html">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/control.html">Control Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/control.html#lqr-infinite-horizon-linear-dyanmics">LQR Infinite Horizon Linear Dyanmics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/control.html#lqr-finite-horzon-linear-dynamics">LQR Finite Horzon Linear Dynamics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/control.html#lqr-finite-horzon-non-linear-dynamics">LQR Finite Horzon Non-linear Dynamics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/control.html#elqr">ELQR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/control.html#elqr-modified-quadratization">ELQR Modified Quadratization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/control.html#elqr-linear-dynamics">ELQR Linear Dynamics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/filters.html">Filter Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/filters.html#kalman-filter">Kalman Filter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/filters.html#extended-kalman-filter">Extended Kalman Filter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/filters.html#interacting-multiple-model-filter">Interacting Multiple Model Filter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/planning.html">Planning Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/a_star.html">A* Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../usage/a_star.html#normal-a">Normal A*</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../usage/a_star.html#beam-search">Beam Search</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../usage/a_star.html#weighted-a">Weighted A*</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/rrtstar.html">RRT* Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../usage/rrtstar.html#lqr-rrt-with-linear-dynamics">LQR-RRT* with Linear Dynamics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../usage/rrtstar.html#lqr-rrt-with-non-linear-dynamics">LQR-RRT* with Non-Linear Dynamics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../usage/rrtstar.html#elqr-rrt-with-non-linear-dynamics">ELQR-RRT* with Non-Linear Dynamics</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../toolchain.html">Toolchain</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../toolchain.html#development-environment-setup">Development Environment Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../toolchain.html#example-workflow">Example Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../toolchain.html#notes-on-tox">Notes on tox</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cicd.html">CI/CD Pipeline</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../cicd.html#github-actions-quick-guide">Github Actions Quick Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="./reports/coverage/index.html#http://">Test Coverage Report</a></li>
<li class="toctree-l1"><a class="reference external" href="./reports/junit/junit.html#http://">Test Results Report</a></li>
<li class="toctree-l1"><a class="reference external" href="http://lager.ua.edu/">LAGER Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../References.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #9E1B32" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">GNCPy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">gncpy.game_engine.base_game</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for gncpy.game_engine.base_game</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Defines base game engine classes.</span>

<span class="sd">These define common functions, properties, and interfaces for all games.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span><span class="p">,</span> <span class="n">abstractmethod</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pathlib</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">ruamel.yaml</span> <span class="kn">import</span> <span class="n">YAML</span>

<span class="kn">import</span> <span class="nn">gncpy.game_engine.rendering2d</span> <span class="k">as</span> <span class="nn">grender2d</span>
<span class="kn">import</span> <span class="nn">gncpy.game_engine.components</span> <span class="k">as</span> <span class="nn">gcomp</span>
<span class="kn">from</span> <span class="nn">gncpy.game_engine.rendering2d</span> <span class="kn">import</span> <span class="n">Shape2dParams</span>
<span class="kn">from</span> <span class="nn">gncpy.game_engine.physics2d</span> <span class="kn">import</span> <span class="n">Physics2dParams</span><span class="p">,</span> <span class="n">Collision2dParams</span>
<span class="kn">from</span> <span class="nn">gncpy.game_engine.entities</span> <span class="kn">import</span> <span class="n">EntityManager</span>


<span class="n">yaml</span> <span class="o">=</span> <span class="n">YAML</span><span class="p">()</span>
<span class="sd">&quot;&quot;&quot;Global yaml interpretter, should be used when parsing any came configs.&quot;&quot;&quot;</span>


<div class="viewcode-block" id="ndarray_representer">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.ndarray_representer.html#gncpy.game_engine.base_game.ndarray_representer">[docs]</a>
<span class="k">def</span> <span class="nf">ndarray_representer</span><span class="p">(</span><span class="n">dumper</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">dumper</span><span class="o">.</span><span class="n">represent_list</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span></div>



<div class="viewcode-block" id="WindowParams">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.WindowParams.html#gncpy.game_engine.base_game.WindowParams">[docs]</a>
<span class="k">class</span> <span class="nc">WindowParams</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parameters of the game window to be parsed by the yaml parser.</span>

<span class="sd">    The types defined in this class determine what type the parser uses.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    width : int</span>
<span class="sd">        Width of the window in pixels.</span>
<span class="sd">    height : int</span>
<span class="sd">        Height of the window in pixels.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="WindowParams.__init__">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.WindowParams.html#gncpy.game_engine.base_game.WindowParams.__init__">[docs]</a>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="mi">0</span></div>
</div>



<div class="viewcode-block" id="BaseParams">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseParams.html#gncpy.game_engine.base_game.BaseParams">[docs]</a>
<span class="k">class</span> <span class="nc">BaseParams</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Main parameter class, may be inherited from to add custom attributes.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    window : :class:`.WindowParams`</span>
<span class="sd">        Parameters of the window.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="BaseParams.__init__">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseParams.html#gncpy.game_engine.base_game.BaseParams.__init__">[docs]</a>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span> <span class="o">=</span> <span class="n">WindowParams</span><span class="p">()</span></div>
</div>



<div class="viewcode-block" id="Base2dParams">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.Base2dParams.html#gncpy.game_engine.base_game.Base2dParams">[docs]</a>
<span class="k">class</span> <span class="nc">Base2dParams</span><span class="p">(</span><span class="n">BaseParams</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base parameters for 2d games, can be inherited from.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    physics : :class:`.physics2d.Physics2dParams`</span>
<span class="sd">        Physics system parameters.</span>
<span class="sd">    start_time : float</span>
<span class="sd">        Starting time in game.</span>
<span class="sd">    max_time : float</span>
<span class="sd">        Maximum time for the game to run. The default is infinity if not set</span>
<span class="sd">        in the config file. To manually set unlimited time then supply a negative</span>
<span class="sd">        value in the config file.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Base2dParams.__init__">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.Base2dParams.html#gncpy.game_engine.base_game.Base2dParams.__init__">[docs]</a>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">physics</span> <span class="o">=</span> <span class="n">Physics2dParams</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_time</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="BaseGame">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame.html#gncpy.game_engine.base_game.BaseGame">[docs]</a>
<span class="k">class</span> <span class="nc">BaseGame</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for defining games.</span>

<span class="sd">    This should implement all the necessary systems (i.e. game logic) by operating</span>
<span class="sd">    on entities. It must be subclassed and defines the expected interface of games.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    config_file : string</span>
<span class="sd">        Full file path of the configuration file.</span>
<span class="sd">    entityManager : :class:`.entities.EntityManager`</span>
<span class="sd">        Factory class for making and managing game entities.</span>
<span class="sd">    render_mode : string</span>
<span class="sd">        Method of rendering the game.</span>
<span class="sd">    render_fps : int</span>
<span class="sd">        Frame rate to render the game at.</span>
<span class="sd">    current_frame : int</span>
<span class="sd">        Number of the current frame.</span>
<span class="sd">    score : float</span>
<span class="sd">        Score accumulated in the game.</span>
<span class="sd">    game_over : bool</span>
<span class="sd">        Flag indicating if the game has ended.</span>
<span class="sd">    params : :class:`BaseParams`</span>
<span class="sd">        Parameters for the game, read from yaml file.</span>
<span class="sd">    rng : numpy random generator</span>
<span class="sd">        Random number generator.</span>
<span class="sd">    seed_val : int</span>
<span class="sd">        Optional seed used in the random generator.</span>
<span class="sd">    library_dir : string</span>
<span class="sd">        Default directory to look for config files defined by the package.</span>
<span class="sd">        This is useful when extending this class outside of the gncpy</span>
<span class="sd">        package to provide a new default search location. The default of</span>
<span class="sd">        None is good for most other cases.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="BaseGame.__init__">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame.html#gncpy.game_engine.base_game.BaseGame.__init__">[docs]</a>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config_file</span><span class="p">,</span>
        <span class="n">render_mode</span><span class="p">,</span>
        <span class="n">render_fps</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">use_library_config</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">seed</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">rng</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">library_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        config_file : string</span>
<span class="sd">            Full path of the configuration file. This can be the name of a one</span>
<span class="sd">            of the libraries default files but the use_library_config flag</span>
<span class="sd">            should also be set.</span>
<span class="sd">        render_mode : string</span>
<span class="sd">            Mode to render the game.</span>
<span class="sd">        render_fps : int, optional</span>
<span class="sd">            FPS to render the game at. The default is None.</span>
<span class="sd">        use_library_config : bool, optional</span>
<span class="sd">            Flag indicating if the config file is in the default library location.</span>
<span class="sd">            The default is False.</span>
<span class="sd">        seed : int, optional</span>
<span class="sd">            Seed for the random number generator. The default is 0.</span>
<span class="sd">        rng : numpy random generator, optional</span>
<span class="sd">            Instance of the random generator to use. The default is None and will</span>
<span class="sd">            cause one to be created.</span>
<span class="sd">        library_dir : string, optional</span>
<span class="sd">            Default directory to look for config files defined by the package.</span>
<span class="sd">            This is useful when extending this class outside of the gncpy</span>
<span class="sd">            package to provide a new default search location. The default of</span>
<span class="sd">            None is good for most other cases.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">library_dir</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">library_config_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">resolve</span><span class="p">(),</span> <span class="s2">&quot;games&quot;</span><span class="p">,</span> <span class="s2">&quot;configs&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">library_config_dir</span> <span class="o">=</span> <span class="n">library_dir</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">config_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_config_file</span><span class="p">(</span>
            <span class="n">config_file</span><span class="p">,</span> <span class="n">use_library</span><span class="o">=</span><span class="n">use_library_config</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entityManager</span> <span class="o">=</span> <span class="n">EntityManager</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render_mode</span> <span class="o">=</span> <span class="n">render_mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render_fps</span> <span class="o">=</span> <span class="n">render_fps</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">game_over</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">rng</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rng</span> <span class="o">=</span> <span class="n">rng</span>
        <span class="k">elif</span> <span class="n">seed</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">seed_val</span> <span class="o">=</span> <span class="n">seed</span></div>


<div class="viewcode-block" id="BaseGame.setup">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame.html#gncpy.game_engine.base_game.BaseGame.setup">[docs]</a>
    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets up the game by parsing the config file and checking max time.</span>

<span class="sd">        This should be called before any other game functions. It should be</span>
<span class="sd">        extended by child classes. If overridden then the developer is responsible</span>
<span class="sd">        for registering the parameters for the yaml parsing and parsing the config</span>
<span class="sd">        file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">global</span> <span class="n">yaml</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">register_params</span><span class="p">(</span><span class="n">yaml</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">parse_config_file</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">max_time</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">max_time</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="BaseGame.register_params">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame.html#gncpy.game_engine.base_game.BaseGame.register_params">[docs]</a>
    <span class="k">def</span> <span class="nf">register_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">yaml</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Register classes with the yaml parser.</span>

<span class="sd">        This should be extended by inherited classes.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        yaml : ruamel.yaml YAML object</span>
<span class="sd">            yaml parser to use, should be the global parser.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">yaml</span><span class="o">.</span><span class="n">representer</span><span class="o">.</span><span class="n">add_representer</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">ndarray_representer</span><span class="p">)</span>
        <span class="n">yaml</span><span class="o">.</span><span class="n">register_class</span><span class="p">(</span><span class="n">WindowParams</span><span class="p">)</span>
        <span class="n">yaml</span><span class="o">.</span><span class="n">register_class</span><span class="p">(</span><span class="n">BaseParams</span><span class="p">)</span></div>


<div class="viewcode-block" id="BaseGame.validate_config_file">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame.html#gncpy.game_engine.base_game.BaseGame.validate_config_file">[docs]</a>
    <span class="k">def</span> <span class="nf">validate_config_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_file</span><span class="p">,</span> <span class="n">use_library</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate that the config file exists.</span>

<span class="sd">        First checks if the file exists as provided, then checks the library</span>
<span class="sd">        directory if the use_library flag is true or it failed to find the file</span>
<span class="sd">        as provided.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        config_file : string</span>
<span class="sd">            Full path to the config file.</span>
<span class="sd">        use_library : bool</span>
<span class="sd">            Flag indicating if the library directory will be checked.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        FileNotFoundError</span>
<span class="sd">            If the file cannot be found.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        cf : string</span>
<span class="sd">            full path to the config file that was found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">succ</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">use_library</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">succ</span><span class="p">:</span>
            <span class="n">cf</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">library_config_dir</span><span class="p">,</span> <span class="n">config_file</span><span class="p">)</span>
            <span class="n">succ</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">cf</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cf</span> <span class="o">=</span> <span class="n">config_file</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">succ</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="s2">&quot;Failed to find config file </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_file</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">cf</span></div>


<div class="viewcode-block" id="BaseGame.parse_config_file">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame.html#gncpy.game_engine.base_game.BaseGame.parse_config_file">[docs]</a>
    <span class="k">def</span> <span class="nf">parse_config_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parses the config file and saves the parameters.&quot;&quot;&quot;</span>
        <span class="n">builtins</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">helper</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Set default class values before being overriding from file.&quot;&quot;&quot;</span>
            <span class="n">item_cls</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">item_cls</span> <span class="ow">in</span> <span class="n">builtins</span> <span class="ow">or</span> <span class="n">item_cls</span> <span class="o">==</span> <span class="nb">tuple</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">item</span>
            <span class="n">true_item</span> <span class="o">=</span> <span class="n">item_cls</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">field</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;__&quot;</span> <span class="ow">or</span> <span class="n">field</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;_&quot;</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="c1"># skip properties, assume they are read only</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">item_cls</span><span class="p">,</span> <span class="n">field</span><span class="p">),</span> <span class="nb">property</span><span class="p">):</span>
                        <span class="k">continue</span>
                <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="n">val</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
                    <span class="k">continue</span>
                <span class="n">val_type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">true_item</span><span class="p">,</span> <span class="n">field</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">val_type</span> <span class="ow">in</span> <span class="n">builtins</span><span class="p">:</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">true_item</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">val_type</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                        <span class="n">val</span> <span class="o">=</span> <span class="nb">list</span><span class="p">([</span><span class="n">val</span><span class="p">,])</span>  <span class="c1"># noqa</span>
                    <span class="n">lst</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">lst_item</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
                        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">helper</span><span class="p">(</span><span class="n">lst_item</span><span class="p">))</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">true_item</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">lst</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">val_type</span> <span class="o">==</span> <span class="nb">tuple</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                        <span class="n">val</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">true_item</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">val_type</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                            <span class="n">val</span> <span class="o">=</span> <span class="nb">list</span><span class="p">([</span><span class="n">val</span><span class="p">,])</span>  <span class="c1"># noqa</span>
                        <span class="n">arr_val</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                            <span class="s2">&quot;Failed to convert </span><span class="si">{:s}</span><span class="s2"> to numpy array (</span><span class="si">{}</span><span class="s2">).&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                <span class="n">field</span><span class="p">,</span> <span class="n">val</span>
                            <span class="p">)</span>
                        <span class="p">)</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">true_item</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">arr_val</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">true_item</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">helper</span><span class="p">(</span><span class="n">val</span><span class="p">))</span>

            <span class="k">return</span> <span class="n">true_item</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fin</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">helper</span><span class="p">(</span><span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fin</span><span class="p">))</span></div>


<div class="viewcode-block" id="BaseGame.reset">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame.html#gncpy.game_engine.base_game.BaseGame.reset">[docs]</a>
    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Resets to the base state.</span>

<span class="sd">        If a random generator is provided then that is used. Otherwise the seed</span>
<span class="sd">        value is used to create a new generator. If neither is provided, but a</span>
<span class="sd">        seed had previously been provided then the old seed is used to recreate</span>
<span class="sd">        the generator. If all else fails, then a new default generator is initialized.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        seed : int, optional</span>
<span class="sd">            seed for the random number generator. The default is None.</span>
<span class="sd">        rng : numpy random generator, optional</span>
<span class="sd">            Instance of the random number generator to use. The default is None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entityManager</span> <span class="o">=</span> <span class="n">EntityManager</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">game_over</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="n">rng</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rng</span> <span class="o">=</span> <span class="n">rng</span>
        <span class="k">elif</span> <span class="n">seed</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">seed_val</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">seed_val</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">seed_val</span> <span class="o">=</span> <span class="n">seed</span></div>


<div class="viewcode-block" id="BaseGame.s_movement">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame.html#gncpy.game_engine.base_game.BaseGame.s_movement">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">s_movement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Abstract method for moving entities according to their dynamics.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        action : numpy array, int, bool, dict, etc.</span>
<span class="sd">            action to take in the game.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>


<div class="viewcode-block" id="BaseGame.s_collision">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame.html#gncpy.game_engine.base_game.BaseGame.s_collision">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">s_collision</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Abstract method to check for collisions between entities.</span>

<span class="sd">        May return extra info useful by the step function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>


<div class="viewcode-block" id="BaseGame.s_game_over">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame.html#gncpy.game_engine.base_game.BaseGame.s_game_over">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">s_game_over</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Abstract method to check for game over conditions.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>


<div class="viewcode-block" id="BaseGame.s_score">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame.html#gncpy.game_engine.base_game.BaseGame.s_score">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">s_score</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Abstact method to calculate the score.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        info : dict</span>
<span class="sd">            Extra info for debugging.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>


<div class="viewcode-block" id="BaseGame.s_input">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame.html#gncpy.game_engine.base_game.BaseGame.s_input">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">s_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Abstract method to turn user inputs into game actions.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>


<div class="viewcode-block" id="BaseGame.step">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame.html#gncpy.game_engine.base_game.BaseGame.step">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Abstract method defining what to do each frame.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        info : dict</span>
<span class="sd">            Extra infomation for debugging.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span></div>
</div>



<div class="viewcode-block" id="BaseGame2d">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame2d.html#gncpy.game_engine.base_game.BaseGame2d">[docs]</a>
<span class="k">class</span> <span class="nc">BaseGame2d</span><span class="p">(</span><span class="n">BaseGame</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for defining 2d games.</span>

<span class="sd">    This should implement all the necessary systems (i.e. game logic) by operating</span>
<span class="sd">    on entities. It assumes the rendering will be done by pygame.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    clock : pygame clock</span>
<span class="sd">        Clock for the rendering system.</span>
<span class="sd">    window : pygame window</span>
<span class="sd">        Window for drawing to.</span>
<span class="sd">    img : H x W x 3 numpy array</span>
<span class="sd">        Pixel values of the screen image.</span>
<span class="sd">    current_update_count : int</span>
<span class="sd">        Number of update steps taken, this may be more than the frame count as</span>
<span class="sd">        multiple physics updates may be made per frame.</span>
<span class="sd">    dist_per_pix : numpy array</span>
<span class="sd">        Real distance per pixel in x (width) and y (height) order.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="BaseGame2d.__init__">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame2d.html#gncpy.game_engine.base_game.BaseGame2d.__init__">[docs]</a>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_file</span><span class="p">,</span> <span class="n">render_mode</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config_file</span><span class="p">,</span> <span class="n">render_mode</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clock</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">img</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_update_count</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dist_per_pix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>  <span class="c1"># width, height</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">current_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Current time in real units.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">elapsed_time</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">start_time</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">elapsed_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Amount of time elapsed in game in real units.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">physics</span><span class="o">.</span><span class="n">update_dt</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_update_count</span>

<div class="viewcode-block" id="BaseGame2d.setup">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame2d.html#gncpy.game_engine.base_game.BaseGame2d.setup">[docs]</a>
    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets up the game and should be called before any game functions.</span>

<span class="sd">        Sets up the physics and rendering system and resets to the base state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>

        <span class="c1"># update render fps if not set</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_fps</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">render_fps</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">physics</span><span class="o">.</span><span class="n">dt</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">clock</span> <span class="o">=</span> <span class="n">grender2d</span><span class="o">.</span><span class="n">init_rendering_system</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span> <span class="o">=</span> <span class="n">grender2d</span><span class="o">.</span><span class="n">init_window</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">render_mode</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">height</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dist_per_pix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">physics</span><span class="o">.</span><span class="n">dist_width</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">get_width</span><span class="p">(),</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">physics</span><span class="o">.</span><span class="n">dist_height</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">get_height</span><span class="p">(),</span>
            <span class="p">]</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span></div>


<div class="viewcode-block" id="BaseGame2d.register_params">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame2d.html#gncpy.game_engine.base_game.BaseGame2d.register_params">[docs]</a>
    <span class="k">def</span> <span class="nf">register_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">yaml</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Register custom classes for this game with the yaml parser.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        yaml : ruamel.yaml YAML object</span>
<span class="sd">            yaml parser to use, should be the global parser.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">register_params</span><span class="p">(</span><span class="n">yaml</span><span class="p">)</span>
        <span class="n">yaml</span><span class="o">.</span><span class="n">register_class</span><span class="p">(</span><span class="n">Shape2dParams</span><span class="p">)</span>
        <span class="n">yaml</span><span class="o">.</span><span class="n">register_class</span><span class="p">(</span><span class="n">Collision2dParams</span><span class="p">)</span>
        <span class="n">yaml</span><span class="o">.</span><span class="n">register_class</span><span class="p">(</span><span class="n">Physics2dParams</span><span class="p">)</span>
        <span class="n">yaml</span><span class="o">.</span><span class="n">register_class</span><span class="p">(</span><span class="n">Base2dParams</span><span class="p">)</span></div>


<div class="viewcode-block" id="BaseGame2d.get_image_size">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame2d.html#gncpy.game_engine.base_game.BaseGame2d.get_image_size">[docs]</a>
    <span class="k">def</span> <span class="nf">get_image_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the size of the window.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tuple</span>
<span class="sd">            first is the height next is the width, in pixels.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sz</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">get_size</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">sz</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">sz</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="BaseGame2d.append_name_to_keys">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame2d.html#gncpy.game_engine.base_game.BaseGame2d.append_name_to_keys">[docs]</a>
    <span class="k">def</span> <span class="nf">append_name_to_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">in_dict</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Append a prefix to every key in a dictionary.</span>

<span class="sd">        A dot is placed between the prefix and the original key.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        in_dict : dict</span>
<span class="sd">            Original dictionary.</span>
<span class="sd">        prefix : string</span>
<span class="sd">            string to prepend.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        out : dict</span>
<span class="sd">            updated dictionary.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">out</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">in_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">n_key</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{:s}</span><span class="s2">.</span><span class="si">{:s}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
            <span class="n">out</span><span class="p">[</span><span class="n">n_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>
        <span class="k">return</span> <span class="n">out</span></div>


<div class="viewcode-block" id="BaseGame2d.reset">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame2d.html#gncpy.game_engine.base_game.BaseGame2d.reset">[docs]</a>
    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Resets to the base state.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">img</span> <span class="o">=</span> <span class="mi">255</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">get_image_size</span><span class="p">(),</span> <span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_update_count</span> <span class="o">=</span> <span class="mi">0</span></div>


<div class="viewcode-block" id="BaseGame2d.step">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame2d.html#gncpy.game_engine.base_game.BaseGame2d.step">[docs]</a>
    <span class="k">def</span> <span class="nf">step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_input</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Perform one iteration of the game loop.</span>

<span class="sd">        Multiple physics updates can be made between rendering calls.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        user_input : dict</span>
<span class="sd">            Each key is an integer representing the entity id that the action</span>
<span class="sd">            applies to. Each value is an action to take.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        info : dict</span>
<span class="sd">            Extra infomation for debugging.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">info</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">reached_target</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">physics</span><span class="o">.</span><span class="n">step_factor</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current_update_count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entityManager</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

            <span class="c1"># clear events for entities</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entityManager</span><span class="o">.</span><span class="n">get_entities</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">has_component</span><span class="p">(</span><span class="n">gcomp</span><span class="o">.</span><span class="n">CEvents</span><span class="p">):</span>
                    <span class="n">e</span><span class="o">.</span><span class="n">get_component</span><span class="p">(</span><span class="n">gcomp</span><span class="o">.</span><span class="n">CEvents</span><span class="p">)</span><span class="o">.</span><span class="n">events</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="n">action</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s_input</span><span class="p">(</span><span class="n">user_input</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">s_movement</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
            <span class="n">hit_tar</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s_collision</span><span class="p">()</span>
            <span class="n">reached_target</span> <span class="o">=</span> <span class="n">reached_target</span> <span class="ow">or</span> <span class="n">hit_tar</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">s_game_over</span><span class="p">()</span>
            <span class="n">score</span><span class="p">,</span> <span class="n">s_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s_score</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">score</span> <span class="o">+=</span> <span class="n">score</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">score</span> <span class="o">/=</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">physics</span><span class="o">.</span><span class="n">step_factor</span>

        <span class="n">info</span><span class="p">[</span><span class="s2">&quot;reached_target&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">reached_target</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">s_render</span><span class="p">()</span>

        <span class="n">info</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">append_name_to_keys</span><span class="p">(</span><span class="n">s_info</span><span class="p">,</span> <span class="s2">&quot;Reward&quot;</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">info</span></div>


<div class="viewcode-block" id="BaseGame2d.s_render">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame2d.html#gncpy.game_engine.base_game.BaseGame2d.s_render">[docs]</a>
    <span class="k">def</span> <span class="nf">s_render</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Render a frame of the game.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">img</span> <span class="o">=</span> <span class="n">grender2d</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
            <span class="n">grender2d</span><span class="o">.</span><span class="n">get_drawable_entities</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entityManager</span><span class="o">.</span><span class="n">get_entities</span><span class="p">()),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clock</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">render_mode</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">render_fps</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="BaseGame2d.close">
<a class="viewcode-back" href="../../../_autosummary/gncpy/game_engine/base_game/gncpy.game_engine.base_game.BaseGame2d.html#gncpy.game_engine.base_game.BaseGame2d.close">[docs]</a>
    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Shutdown the rendering system.&quot;&quot;&quot;</span>
        <span class="n">grender2d</span><span class="o">.</span><span class="n">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">)</span></div>
</div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Laboratory for Autonomy, GNC, and Estimation Research (LAGER).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>